import{$ as e}from"./all-52704ca9.js";import{l as d}from"./L.Control.Locate-8a6d4cfd.js";const m="backend.matiasrolando.com";let t=null,a=new Array,s=new Array,p=new Array;var L={10:["2","222","402","404","405","407","409","427","456","494","4A","4AC","4AD","4D","4DR","600","76","CE1","D9","G","L14","L16","L29","L7"],13:["15A","15B","6A","6R6"],18:["1A","2A","700","701","703","704","705","706","707","708","709","710","711","712","714","724","747","748","750","751","752","757","7A","7E7R","7E8R","802","803","804","809","8A","8E7R","8E8R","DM1","P757","P758","P759","P760","P761","P768","P7H","XA1","XA2"],20:["1M1","1M12","1M6","1M7","2M1","2M7","2M8","505","522","524","526","538","546","582","D11","L24","L25","L38","MD3","ML1"],29:["2K"],32:["S5","S6","S7"],33:["A1","A10","A11","A12","A14","A16","A18","A5","A6","A9"],35:["10A","14A","14AB","14AR","T1","T14A","T2","T4N","T4R","T5","T6"],36:[],37:[],39:["Z1","Z2","Z3","Z4"],50:["100","102","103","104","105","109","110","111","112","113","115","116","117","121","124","125","127","128","130","137","141","142","143","144","145","147","148","149","150","151","155","156","157","158","163","169","174","175","180","181","183","185","186","187","188","191","192","195","199","21","214","227","230","268","276","60","62","64","C1","C2","C3","C4","C5","CE1","D10","D5","D8","DE1","DM1","E14","G10","G11","G3","G8","L1","L15","L2","L20","L22","L26","L28","L3","L35","L36","L39","L4","L41","L46","L5","L6","L9"],70:["11A","17","221","300","306","316","328","329","330","370","396","71","79","CE1","DM1","L12","L31","L33","U11C","XA1"],80:[]};e(document).ready(()=>{let n=d.map("map_routes").setView([-34.814733,-56.180452],9);d.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(n);const A=o=>{e.ajax({url:`https://${m}/getroutes?linea=${o}`,method:"get",contentType:"application/json",success:function(r){console.log(r),t=r,a=new Array,s=new Array,t.forEach(c=>{a.indexOf(c.properties.Origen)===-1&&a.push(c.properties.Origen),s.indexOf(c.properties.Recorrido)===-1&&s.push(c.properties.Recorrido)}),u()}})},u=()=>{e("#switch_origen").empty(),e("#switch_route").empty(),t.length==0?(e(".tercero").attr("hidden"),f("No hay recorridos para la búsqueda realizada. Recuerde que sólo se pueden ver los recorridos de suburbanos")):(e("#alert_search").empty(),e(".tercero").removeAttr("hidden"),a.forEach((o,r)=>{e("#switch_origen").append(`<div class= "form-check form-switch">
                        <input class="form-check-input check-origin" type="checkbox" name="prueba" role="switch" value="${o}" id="flexSwitchCheck_origen${r}" >
                        <label class="form-check-label" for="flexSwitchCheck_origen${o}">${o}</label>
                    </div>`),e(`#flexSwitchCheck_origen${r}`).click(()=>h())}),s.forEach((o,r)=>{e("#switch_route").append(`<div class= "form-check form-switch">
                        <input class="form-check-input check-routes" type="checkbox" name="prueba" role="switch" value="${o}" id="flexSwitchCheck_recorrido${r}" >
                        <label class="form-check-label" for="flexSwitchCheck_recorrido${o}">${o}</label>
                    </div>`),e(`#flexSwitchCheck_recorrido${r}`).click(()=>h())}))},h=()=>{var o=new Array,r=new Array;e(".check-origin:checked").each(function(){o.push(e(this).val())}),e(".check-routes:checked").each(function(){r.push(e(this).val())}),o&&(p=t.filter(c=>o.includes(c.properties.Origen)&&r.includes(c.properties.Recorrido)),console.log(p),g(p))};let i=d.geoJSON();const g=o=>{if(i.clearLayers(),o.length!=0){o.forEach(c=>{i.addData(c.geometry)}),i.addTo(n);let r=i.getBounds();n.fitBounds(r)}};e("#search").click(async()=>{console.log(e("#linea").val()),A(e("#linea").val())});const f=o=>{console.log("alert"),e("#alert_search").empty().append(`<div class="alert alert-warning alert-dismissible fade show" role="alert">${o}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> </div>`)};e("#empresa").change(function(){var o=e("#empresa").val();e("#linea").empty(),L[o].forEach(r=>{e("#linea").append("<option value="+r+">"+r+"</option>")}),e(".segundo").removeAttr("disabled")});let l=[{codigo:"13",descripcion:"CASANOVA LIMITADA"},{codigo:"29",descripcion:"C.I.T.A."},{codigo:"10",descripcion:"C.O.E.T.C."},{codigo:"33",descripcion:"C.O. DEL ESTE"},{codigo:"20",descripcion:"C.O.M.E.S.A"},{codigo:"18",descripcion:"C.O.P.S.A."},{codigo:"50",descripcion:"C.U.T.C.S.A."},{codigo:"32",descripcion:"SATT"},{codigo:"35",descripcion:"TALA-PANDO-MONTEVIDEO"},{codigo:"70",descripcion:"U.C.O.T."},{codigo:"39",descripcion:"ZEBALLOS HERMANOS"}];for(let o in l)e("#empresa").append("<option value="+l[o].codigo+">"+l[o].descripcion+"</option>")});
