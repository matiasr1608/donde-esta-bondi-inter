{
  "version": 3,
  "sources": ["../../leaflet.locatecontrol/src/L.Control.Locate.js"],
  "sourcesContent": ["/*!\r\nCopyright (c) 2016 Dominik Moritz\r\n\r\nThis file is part of the leaflet locate control. It is licensed under the MIT license.\r\nYou can find the project at: https://github.com/domoritz/leaflet-locatecontrol\r\n*/\r\n(function (factory, window) {\r\n  // see https://github.com/Leaflet/Leaflet/blob/master/PLUGIN-GUIDE.md#module-loaders\r\n  // for details on how to structure a leaflet plugin.\r\n\r\n  // define an AMD module that relies on 'leaflet'\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define([\"leaflet\"], factory);\r\n\r\n    // define a Common JS module that relies on 'leaflet'\r\n  } else if (typeof exports === \"object\") {\r\n    if (typeof window !== \"undefined\" && window.L) {\r\n      module.exports = factory(L);\r\n    } else {\r\n      module.exports = factory(require(\"leaflet\"));\r\n    }\r\n  }\r\n\r\n  // attach your plugin to the global 'L' variable\r\n  if (typeof window !== \"undefined\" && window.L) {\r\n    window.L.Control.Locate = factory(L);\r\n  }\r\n})(function (L) {\r\n  const LDomUtilApplyClassesMethod = (method, element, classNames) => {\r\n    classNames = classNames.split(\" \");\r\n    classNames.forEach(function (className) {\r\n      L.DomUtil[method].call(this, element, className);\r\n    });\r\n  };\r\n\r\n  const addClasses = (el, names) => LDomUtilApplyClassesMethod(\"addClass\", el, names);\r\n  const removeClasses = (el, names) => LDomUtilApplyClassesMethod(\"removeClass\", el, names);\r\n\r\n  /**\r\n   * Compatible with L.Circle but a true marker instead of a path\r\n   */\r\n  const LocationMarker = L.Marker.extend({\r\n    initialize(latlng, options) {\r\n      L.Util.setOptions(this, options);\r\n      this._latlng = latlng;\r\n      this.createIcon();\r\n    },\r\n\r\n    /**\r\n     * Create a styled circle location marker\r\n     */\r\n    createIcon() {\r\n      const opt = this.options;\r\n\r\n      let style = \"\";\r\n\r\n      if (opt.color !== undefined) {\r\n        style += `stroke:${opt.color};`;\r\n      }\r\n      if (opt.weight !== undefined) {\r\n        style += `stroke-width:${opt.weight};`;\r\n      }\r\n      if (opt.fillColor !== undefined) {\r\n        style += `fill:${opt.fillColor};`;\r\n      }\r\n      if (opt.fillOpacity !== undefined) {\r\n        style += `fill-opacity:${opt.fillOpacity};`;\r\n      }\r\n      if (opt.opacity !== undefined) {\r\n        style += `opacity:${opt.opacity};`;\r\n      }\r\n\r\n      const icon = this._getIconSVG(opt, style);\r\n\r\n      this._locationIcon = L.divIcon({\r\n        className: icon.className,\r\n        html: icon.svg,\r\n        iconSize: [icon.w, icon.h]\r\n      });\r\n\r\n      this.setIcon(this._locationIcon);\r\n    },\r\n\r\n    /**\r\n     * Return the raw svg for the shape\r\n     *\r\n     * Split so can be easily overridden\r\n     */\r\n    _getIconSVG(options, style) {\r\n      const r = options.radius;\r\n      const w = options.weight;\r\n      const s = r + w;\r\n      const s2 = s * 2;\r\n      const svg =\r\n        `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${s2}\" height=\"${s2}\" version=\"1.1\" viewBox=\"-${s} -${s} ${s2} ${s2}\">` +\r\n        '<circle r=\"' +\r\n        r +\r\n        '\" style=\"' +\r\n        style +\r\n        '\" />' +\r\n        \"</svg>\";\r\n      return {\r\n        className: \"leaflet-control-locate-location\",\r\n        svg,\r\n        w: s2,\r\n        h: s2\r\n      };\r\n    },\r\n\r\n    setStyle(style) {\r\n      L.Util.setOptions(this, style);\r\n      this.createIcon();\r\n    }\r\n  });\r\n\r\n  const CompassMarker = LocationMarker.extend({\r\n    initialize(latlng, heading, options) {\r\n      L.Util.setOptions(this, options);\r\n      this._latlng = latlng;\r\n      this._heading = heading;\r\n      this.createIcon();\r\n    },\r\n\r\n    setHeading(heading) {\r\n      this._heading = heading;\r\n    },\r\n\r\n    /**\r\n     * Create a styled arrow compass marker\r\n     */\r\n    _getIconSVG(options, style) {\r\n      const r = options.radius;\r\n      const w = options.width + options.weight;\r\n      const h = (r + options.depth + options.weight) * 2;\r\n      const path = `M0,0 l${options.width / 2},${options.depth} l-${w},0 z`;\r\n      const svgstyle = `transform: rotate(${this._heading}deg)`;\r\n      const svg =\r\n        `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h}\" version=\"1.1\" viewBox=\"-${w / 2} 0 ${w} ${h}\" style=\"${svgstyle}\">` +\r\n        '<path d=\"' +\r\n        path +\r\n        '\" style=\"' +\r\n        style +\r\n        '\" />' +\r\n        \"</svg>\";\r\n      return {\r\n        className: \"leaflet-control-locate-heading\",\r\n        svg,\r\n        w,\r\n        h\r\n      };\r\n    }\r\n  });\r\n\r\n  const LocateControl = L.Control.extend({\r\n    options: {\r\n      /** Position of the control */\r\n      position: \"topleft\",\r\n      /** The layer that the user's location should be drawn on. By default creates a new layer. */\r\n      layer: undefined,\r\n      /**\r\n       * Automatically sets the map view (zoom and pan) to the user's location as it updates.\r\n       * While the map is following the user's location, the control is in the `following` state,\r\n       * which changes the style of the control and the circle marker.\r\n       *\r\n       * Possible values:\r\n       *  - false: never updates the map view when location changes.\r\n       *  - 'once': set the view when the location is first determined\r\n       *  - 'always': always updates the map view when location changes.\r\n       *              The map view follows the user's location.\r\n       *  - 'untilPan': like 'always', except stops updating the\r\n       *                view if the user has manually panned the map.\r\n       *                The map view follows the user's location until she pans.\r\n       *  - 'untilPanOrZoom': (default) like 'always', except stops updating the\r\n       *                view if the user has manually panned the map.\r\n       *                The map view follows the user's location until she pans.\r\n       */\r\n      setView: \"untilPanOrZoom\",\r\n      /** Keep the current map zoom level when setting the view and only pan. */\r\n      keepCurrentZoomLevel: false,\r\n      /** After activating the plugin by clicking on the icon, zoom to the selected zoom level, even when keepCurrentZoomLevel is true. Set to 'false' to disable this feature. */\r\n      initialZoomLevel: false,\r\n      /**\r\n       * This callback can be used to override the viewport tracking\r\n       * This function should return a LatLngBounds object.\r\n       *\r\n       * For example to extend the viewport to ensure that a particular LatLng is visible:\r\n       *\r\n       * getLocationBounds: function(locationEvent) {\r\n       *    return locationEvent.bounds.extend([-33.873085, 151.219273]);\r\n       * },\r\n       */\r\n      getLocationBounds(locationEvent) {\r\n        return locationEvent.bounds;\r\n      },\r\n      /** Smooth pan and zoom to the location of the marker. Only works in Leaflet 1.0+. */\r\n      flyTo: false,\r\n      /**\r\n       * The user location can be inside and outside the current view when the user clicks on the\r\n       * control that is already active. Both cases can be configures separately.\r\n       * Possible values are:\r\n       *  - 'setView': zoom and pan to the current location\r\n       *  - 'stop': stop locating and remove the location marker\r\n       */\r\n      clickBehavior: {\r\n        /** What should happen if the user clicks on the control while the location is within the current view. */\r\n        inView: \"stop\",\r\n        /** What should happen if the user clicks on the control while the location is outside the current view. */\r\n        outOfView: \"setView\",\r\n        /**\r\n         * What should happen if the user clicks on the control while the location is within the current view\r\n         * and we could be following but are not. Defaults to a special value which inherits from 'inView';\r\n         */\r\n        inViewNotFollowing: \"inView\"\r\n      },\r\n      /**\r\n       * If set, save the map bounds just before centering to the user's\r\n       * location. When control is disabled, set the view back to the\r\n       * bounds that were saved.\r\n       */\r\n      returnToPrevBounds: false,\r\n      /**\r\n       * Keep a cache of the location after the user deactivates the control. If set to false, the user has to wait\r\n       * until the locate API returns a new location before they see where they are again.\r\n       */\r\n      cacheLocation: true,\r\n      /** If set, a circle that shows the location accuracy is drawn. */\r\n      drawCircle: true,\r\n      /** If set, the marker at the users' location is drawn. */\r\n      drawMarker: true,\r\n      /** If set and supported then show the compass heading */\r\n      showCompass: true,\r\n      /** The class to be used to create the marker. For example L.CircleMarker or L.Marker */\r\n      markerClass: LocationMarker,\r\n      /** The class us be used to create the compass bearing arrow */\r\n      compassClass: CompassMarker,\r\n      /** Accuracy circle style properties. NOTE these styles should match the css animations styles */\r\n      circleStyle: {\r\n        className: \"leaflet-control-locate-circle\",\r\n        color: \"#136AEC\",\r\n        fillColor: \"#136AEC\",\r\n        fillOpacity: 0.15,\r\n        weight: 0\r\n      },\r\n      /** Inner marker style properties. Only works if your marker class supports `setStyle`. */\r\n      markerStyle: {\r\n        className: \"leaflet-control-locate-marker\",\r\n        color: \"#fff\",\r\n        fillColor: \"#2A93EE\",\r\n        fillOpacity: 1,\r\n        weight: 3,\r\n        opacity: 1,\r\n        radius: 9\r\n      },\r\n      /** Compass */\r\n      compassStyle: {\r\n        fillColor: \"#2A93EE\",\r\n        fillOpacity: 1,\r\n        weight: 0,\r\n        color: \"#fff\",\r\n        opacity: 1,\r\n        radius: 9, // How far is the arrow is from the center of of the marker\r\n        width: 9, // Width of the arrow\r\n        depth: 6 // Length of the arrow\r\n      },\r\n      /**\r\n       * Changes to accuracy circle and inner marker while following.\r\n       * It is only necessary to provide the properties that should change.\r\n       */\r\n      followCircleStyle: {},\r\n      followMarkerStyle: {\r\n        // color: '#FFA500',\r\n        // fillColor: '#FFB000'\r\n      },\r\n      followCompassStyle: {},\r\n      /** The CSS class for the icon. For example fa-location-arrow or fa-map-marker */\r\n      icon: \"leaflet-control-locate-location-arrow\",\r\n      iconLoading: \"leaflet-control-locate-spinner\",\r\n      /** The element to be created for icons. For example span or i */\r\n      iconElementTag: \"span\",\r\n      /** The element to be created for the text. For example small or span */\r\n      textElementTag: \"small\",\r\n      /** Padding around the accuracy circle. */\r\n      circlePadding: [0, 0],\r\n      /** Use metric units. */\r\n      metric: true,\r\n      /**\r\n       * This callback can be used in case you would like to override button creation behavior.\r\n       * This is useful for DOM manipulation frameworks such as angular etc.\r\n       * This function should return an object with HtmlElement for the button (link property) and the icon (icon property).\r\n       */\r\n      createButtonCallback(container, options) {\r\n        const link = L.DomUtil.create(\"a\", \"leaflet-bar-part leaflet-bar-part-single\", container);\r\n        link.title = options.strings.title;\r\n        link.href = \"#\";\r\n        link.setAttribute(\"role\", \"button\");\r\n        const icon = L.DomUtil.create(options.iconElementTag, options.icon, link);\r\n\r\n        if (options.strings.text !== undefined) {\r\n          const text = L.DomUtil.create(options.textElementTag, \"leaflet-locate-text\", link);\r\n          text.textContent = options.strings.text;\r\n          link.classList.add(\"leaflet-locate-text-active\");\r\n          link.parentNode.style.display = \"flex\";\r\n          if (options.icon.length > 0) {\r\n            icon.classList.add(\"leaflet-locate-icon\");\r\n          }\r\n        }\r\n\r\n        return { link, icon };\r\n      },\r\n      /** This event is called in case of any location error that is not a time out error. */\r\n      onLocationError(err, control) {\r\n        alert(err.message);\r\n      },\r\n      /**\r\n       * This event is called when the user's location is outside the bounds set on the map.\r\n       * The event is called repeatedly when the location changes.\r\n       */\r\n      onLocationOutsideMapBounds(control) {\r\n        control.stop();\r\n        alert(control.options.strings.outsideMapBoundsMsg);\r\n      },\r\n      /** Display a pop-up when the user click on the inner marker. */\r\n      showPopup: true,\r\n      strings: {\r\n        title: \"Show me where I am\",\r\n        metersUnit: \"meters\",\r\n        feetUnit: \"feet\",\r\n        popup: \"You are within {distance} {unit} from this point\",\r\n        outsideMapBoundsMsg: \"You seem located outside the boundaries of the map\"\r\n      },\r\n      /** The default options passed to leaflets locate method. */\r\n      locateOptions: {\r\n        maxZoom: Infinity,\r\n        watch: true, // if you overwrite this, visualization cannot be updated\r\n        setView: false // have to set this to false because we have to\r\n        // do setView manually\r\n      }\r\n    },\r\n\r\n    initialize(options) {\r\n      // set default options if nothing is set (merge one step deep)\r\n      for (const i in options) {\r\n        if (typeof this.options[i] === \"object\") {\r\n          L.extend(this.options[i], options[i]);\r\n        } else {\r\n          this.options[i] = options[i];\r\n        }\r\n      }\r\n\r\n      // extend the follow marker style and circle from the normal style\r\n      this.options.followMarkerStyle = L.extend({}, this.options.markerStyle, this.options.followMarkerStyle);\r\n      this.options.followCircleStyle = L.extend({}, this.options.circleStyle, this.options.followCircleStyle);\r\n      this.options.followCompassStyle = L.extend({}, this.options.compassStyle, this.options.followCompassStyle);\r\n    },\r\n\r\n    /**\r\n     * Add control to map. Returns the container for the control.\r\n     */\r\n    onAdd(map) {\r\n      const container = L.DomUtil.create(\"div\", \"leaflet-control-locate leaflet-bar leaflet-control\");\r\n      this._container = container;\r\n      this._map = map;\r\n      this._layer = this.options.layer || new L.LayerGroup();\r\n      this._layer.addTo(map);\r\n      this._event = undefined;\r\n      this._compassHeading = null;\r\n      this._prevBounds = null;\r\n\r\n      const linkAndIcon = this.options.createButtonCallback(container, this.options);\r\n      this._link = linkAndIcon.link;\r\n      this._icon = linkAndIcon.icon;\r\n\r\n      L.DomEvent.on(\r\n        this._link,\r\n        \"click\",\r\n        function (ev) {\r\n          L.DomEvent.stopPropagation(ev);\r\n          L.DomEvent.preventDefault(ev);\r\n          this._onClick();\r\n        },\r\n        this\r\n      ).on(this._link, \"dblclick\", L.DomEvent.stopPropagation);\r\n\r\n      this._resetVariables();\r\n\r\n      this._map.on(\"unload\", this._unload, this);\r\n\r\n      return container;\r\n    },\r\n\r\n    /**\r\n     * This method is called when the user clicks on the control.\r\n     */\r\n    _onClick() {\r\n      this._justClicked = true;\r\n      const wasFollowing = this._isFollowing();\r\n      this._userPanned = false;\r\n      this._userZoomed = false;\r\n\r\n      if (this._active && !this._event) {\r\n        // click while requesting\r\n        this.stop();\r\n      } else if (this._active) {\r\n        const behaviors = this.options.clickBehavior;\r\n        let behavior = behaviors.outOfView;\r\n        if (this._map.getBounds().contains(this._event.latlng)) {\r\n          behavior = wasFollowing ? behaviors.inView : behaviors.inViewNotFollowing;\r\n        }\r\n\r\n        // Allow inheriting from another behavior\r\n        if (behaviors[behavior]) {\r\n          behavior = behaviors[behavior];\r\n        }\r\n\r\n        switch (behavior) {\r\n          case \"setView\":\r\n            this.setView();\r\n            break;\r\n          case \"stop\":\r\n            this.stop();\r\n            if (this.options.returnToPrevBounds) {\r\n              const f = this.options.flyTo ? this._map.flyToBounds : this._map.fitBounds;\r\n              f.bind(this._map)(this._prevBounds);\r\n            }\r\n            break;\r\n        }\r\n      } else {\r\n        if (this.options.returnToPrevBounds) {\r\n          this._prevBounds = this._map.getBounds();\r\n        }\r\n        this.start();\r\n      }\r\n\r\n      this._updateContainerStyle();\r\n    },\r\n\r\n    /**\r\n     * Starts the plugin:\r\n     * - activates the engine\r\n     * - draws the marker (if coordinates available)\r\n     */\r\n    start() {\r\n      this._activate();\r\n\r\n      if (this._event) {\r\n        this._drawMarker(this._map);\r\n\r\n        // if we already have a location but the user clicked on the control\r\n        if (this.options.setView) {\r\n          this.setView();\r\n        }\r\n      }\r\n      this._updateContainerStyle();\r\n    },\r\n\r\n    /**\r\n     * Stops the plugin:\r\n     * - deactivates the engine\r\n     * - reinitializes the button\r\n     * - removes the marker\r\n     */\r\n    stop() {\r\n      this._deactivate();\r\n\r\n      this._cleanClasses();\r\n      this._resetVariables();\r\n\r\n      this._removeMarker();\r\n    },\r\n\r\n    /**\r\n     * Keep the control active but stop following the location\r\n     */\r\n    stopFollowing() {\r\n      this._userPanned = true;\r\n      this._updateContainerStyle();\r\n      this._drawMarker();\r\n    },\r\n\r\n    /**\r\n     * This method launches the location engine.\r\n     * It is called before the marker is updated,\r\n     * event if it does not mean that the event will be ready.\r\n     *\r\n     * Override it if you want to add more functionalities.\r\n     * It should set the this._active to true and do nothing if\r\n     * this._active is true.\r\n     */\r\n    _activate() {\r\n      if (this._active || !this._map) {\r\n        return;\r\n      }\r\n\r\n      this._map.locate(this.options.locateOptions);\r\n      this._map.fire(\"locateactivate\", this);\r\n      this._active = true;\r\n\r\n      // bind event listeners\r\n      this._map.on(\"locationfound\", this._onLocationFound, this);\r\n      this._map.on(\"locationerror\", this._onLocationError, this);\r\n      this._map.on(\"dragstart\", this._onDrag, this);\r\n      this._map.on(\"zoomstart\", this._onZoom, this);\r\n      this._map.on(\"zoomend\", this._onZoomEnd, this);\r\n      if (this.options.showCompass) {\r\n        const oriAbs = \"ondeviceorientationabsolute\" in window;\r\n        if (oriAbs || \"ondeviceorientation\" in window) {\r\n          const _this = this;\r\n          const deviceorientation = function () {\r\n            L.DomEvent.on(window, oriAbs ? \"deviceorientationabsolute\" : \"deviceorientation\", _this._onDeviceOrientation, _this);\r\n          };\r\n          if (DeviceOrientationEvent && typeof DeviceOrientationEvent.requestPermission === \"function\") {\r\n            DeviceOrientationEvent.requestPermission().then(function (permissionState) {\r\n              if (permissionState === \"granted\") {\r\n                deviceorientation();\r\n              }\r\n            });\r\n          } else {\r\n            deviceorientation();\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Called to stop the location engine.\r\n     *\r\n     * Override it to shutdown any functionalities you added on start.\r\n     */\r\n    _deactivate() {\r\n      if (!this._active || !this._map) {\r\n        return;\r\n      }\r\n\r\n      this._map.stopLocate();\r\n      this._map.fire(\"locatedeactivate\", this);\r\n      this._active = false;\r\n\r\n      if (!this.options.cacheLocation) {\r\n        this._event = undefined;\r\n      }\r\n\r\n      // unbind event listeners\r\n      this._map.off(\"locationfound\", this._onLocationFound, this);\r\n      this._map.off(\"locationerror\", this._onLocationError, this);\r\n      this._map.off(\"dragstart\", this._onDrag, this);\r\n      this._map.off(\"zoomstart\", this._onZoom, this);\r\n      this._map.off(\"zoomend\", this._onZoomEnd, this);\r\n      if (this.options.showCompass) {\r\n        this._compassHeading = null;\r\n        if (\"ondeviceorientationabsolute\" in window) {\r\n          L.DomEvent.off(window, \"deviceorientationabsolute\", this._onDeviceOrientation, this);\r\n        } else if (\"ondeviceorientation\" in window) {\r\n          L.DomEvent.off(window, \"deviceorientation\", this._onDeviceOrientation, this);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Zoom (unless we should keep the zoom level) and an to the current view.\r\n     */\r\n    setView() {\r\n      this._drawMarker();\r\n      if (this._isOutsideMapBounds()) {\r\n        this._event = undefined; // clear the current location so we can get back into the bounds\r\n        this.options.onLocationOutsideMapBounds(this);\r\n      } else {\r\n        if (this._justClicked && this.options.initialZoomLevel !== false) {\r\n          var f = this.options.flyTo ? this._map.flyTo : this._map.setView;\r\n          f.bind(this._map)([this._event.latitude, this._event.longitude], this.options.initialZoomLevel);\r\n        } else if (this.options.keepCurrentZoomLevel) {\r\n          var f = this.options.flyTo ? this._map.flyTo : this._map.panTo;\r\n          f.bind(this._map)([this._event.latitude, this._event.longitude]);\r\n        } else {\r\n          var f = this.options.flyTo ? this._map.flyToBounds : this._map.fitBounds;\r\n          // Ignore zoom events while setting the viewport as these would stop following\r\n          this._ignoreEvent = true;\r\n          f.bind(this._map)(this.options.getLocationBounds(this._event), {\r\n            padding: this.options.circlePadding,\r\n            maxZoom: this.options.initialZoomLevel || this.options.locateOptions.maxZoom\r\n          });\r\n          L.Util.requestAnimFrame(function () {\r\n            // Wait until after the next animFrame because the flyTo can be async\r\n            this._ignoreEvent = false;\r\n          }, this);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    _drawCompass() {\r\n      if (!this._event) {\r\n        return;\r\n      }\r\n\r\n      const latlng = this._event.latlng;\r\n\r\n      if (this.options.showCompass && latlng && this._compassHeading !== null) {\r\n        const cStyle = this._isFollowing() ? this.options.followCompassStyle : this.options.compassStyle;\r\n        if (!this._compass) {\r\n          this._compass = new this.options.compassClass(latlng, this._compassHeading, cStyle).addTo(this._layer);\r\n        } else {\r\n          this._compass.setLatLng(latlng);\r\n          this._compass.setHeading(this._compassHeading);\r\n          // If the compassClass can be updated with setStyle, update it.\r\n          if (this._compass.setStyle) {\r\n            this._compass.setStyle(cStyle);\r\n          }\r\n        }\r\n        //\r\n      }\r\n      if (this._compass && (!this.options.showCompass || this._compassHeading === null)) {\r\n        this._compass.removeFrom(this._layer);\r\n        this._compass = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Draw the marker and accuracy circle on the map.\r\n     *\r\n     * Uses the event retrieved from onLocationFound from the map.\r\n     */\r\n    _drawMarker() {\r\n      if (this._event.accuracy === undefined) {\r\n        this._event.accuracy = 0;\r\n      }\r\n\r\n      const radius = this._event.accuracy;\r\n      const latlng = this._event.latlng;\r\n\r\n      // circle with the radius of the location's accuracy\r\n      if (this.options.drawCircle) {\r\n        const style = this._isFollowing() ? this.options.followCircleStyle : this.options.circleStyle;\r\n\r\n        if (!this._circle) {\r\n          this._circle = L.circle(latlng, radius, style).addTo(this._layer);\r\n        } else {\r\n          this._circle.setLatLng(latlng).setRadius(radius).setStyle(style);\r\n        }\r\n      }\r\n\r\n      let distance;\r\n      let unit;\r\n      if (this.options.metric) {\r\n        distance = radius.toFixed(0);\r\n        unit = this.options.strings.metersUnit;\r\n      } else {\r\n        distance = (radius * 3.2808399).toFixed(0);\r\n        unit = this.options.strings.feetUnit;\r\n      }\r\n\r\n      // small inner marker\r\n      if (this.options.drawMarker) {\r\n        const mStyle = this._isFollowing() ? this.options.followMarkerStyle : this.options.markerStyle;\r\n        if (!this._marker) {\r\n          this._marker = new this.options.markerClass(latlng, mStyle).addTo(this._layer);\r\n        } else {\r\n          this._marker.setLatLng(latlng);\r\n          // If the markerClass can be updated with setStyle, update it.\r\n          if (this._marker.setStyle) {\r\n            this._marker.setStyle(mStyle);\r\n          }\r\n        }\r\n      }\r\n\r\n      this._drawCompass();\r\n\r\n      const t = this.options.strings.popup;\r\n      function getPopupText() {\r\n        if (typeof t === \"string\") {\r\n          return L.Util.template(t, { distance, unit });\r\n        } else if (typeof t === \"function\") {\r\n          return t({ distance, unit });\r\n        } else {\r\n          return t;\r\n        }\r\n      }\r\n      if (this.options.showPopup && t && this._marker) {\r\n        this._marker.bindPopup(getPopupText())._popup.setLatLng(latlng);\r\n      }\r\n      if (this.options.showPopup && t && this._compass) {\r\n        this._compass.bindPopup(getPopupText())._popup.setLatLng(latlng);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Remove the marker from map.\r\n     */\r\n    _removeMarker() {\r\n      this._layer.clearLayers();\r\n      this._marker = undefined;\r\n      this._circle = undefined;\r\n    },\r\n\r\n    /**\r\n     * Unload the plugin and all event listeners.\r\n     * Kind of the opposite of onAdd.\r\n     */\r\n    _unload() {\r\n      this.stop();\r\n      this._map.off(\"unload\", this._unload, this);\r\n    },\r\n\r\n    /**\r\n     * Sets the compass heading\r\n     */\r\n    _setCompassHeading(angle) {\r\n      if (!isNaN(parseFloat(angle)) && isFinite(angle)) {\r\n        angle = Math.round(angle);\r\n\r\n        this._compassHeading = angle;\r\n        L.Util.requestAnimFrame(this._drawCompass, this);\r\n      } else {\r\n        this._compassHeading = null;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * If the compass fails calibration just fail safely and remove the compass\r\n     */\r\n    _onCompassNeedsCalibration() {\r\n      this._setCompassHeading();\r\n    },\r\n\r\n    /**\r\n     * Process and normalise compass events\r\n     */\r\n    _onDeviceOrientation(e) {\r\n      if (!this._active) {\r\n        return;\r\n      }\r\n\r\n      if (e.webkitCompassHeading) {\r\n        // iOS\r\n        this._setCompassHeading(e.webkitCompassHeading);\r\n      } else if (e.absolute && e.alpha) {\r\n        // Android\r\n        this._setCompassHeading(360 - e.alpha);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Calls deactivate and dispatches an error.\r\n     */\r\n    _onLocationError(err) {\r\n      // ignore time out error if the location is watched\r\n      if (err.code == 3 && this.options.locateOptions.watch) {\r\n        return;\r\n      }\r\n\r\n      this.stop();\r\n      this.options.onLocationError(err, this);\r\n    },\r\n\r\n    /**\r\n     * Stores the received event and updates the marker.\r\n     */\r\n    _onLocationFound(e) {\r\n      // no need to do anything if the location has not changed\r\n      if (this._event && this._event.latlng.lat === e.latlng.lat && this._event.latlng.lng === e.latlng.lng && this._event.accuracy === e.accuracy) {\r\n        return;\r\n      }\r\n\r\n      if (!this._active) {\r\n        // we may have a stray event\r\n        return;\r\n      }\r\n\r\n      this._event = e;\r\n\r\n      this._drawMarker();\r\n      this._updateContainerStyle();\r\n\r\n      switch (this.options.setView) {\r\n        case \"once\":\r\n          if (this._justClicked) {\r\n            this.setView();\r\n          }\r\n          break;\r\n        case \"untilPan\":\r\n          if (!this._userPanned) {\r\n            this.setView();\r\n          }\r\n          break;\r\n        case \"untilPanOrZoom\":\r\n          if (!this._userPanned && !this._userZoomed) {\r\n            this.setView();\r\n          }\r\n          break;\r\n        case \"always\":\r\n          this.setView();\r\n          break;\r\n        case false:\r\n          // don't set the view\r\n          break;\r\n      }\r\n\r\n      this._justClicked = false;\r\n    },\r\n\r\n    /**\r\n     * When the user drags. Need a separate event so we can bind and unbind event listeners.\r\n     */\r\n    _onDrag() {\r\n      // only react to drags once we have a location\r\n      if (this._event && !this._ignoreEvent) {\r\n        this._userPanned = true;\r\n        this._updateContainerStyle();\r\n        this._drawMarker();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * When the user zooms. Need a separate event so we can bind and unbind event listeners.\r\n     */\r\n    _onZoom() {\r\n      // only react to drags once we have a location\r\n      if (this._event && !this._ignoreEvent) {\r\n        this._userZoomed = true;\r\n        this._updateContainerStyle();\r\n        this._drawMarker();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * After a zoom ends update the compass and handle sideways zooms\r\n     */\r\n    _onZoomEnd() {\r\n      if (this._event) {\r\n        this._drawCompass();\r\n      }\r\n\r\n      if (this._event && !this._ignoreEvent) {\r\n        // If we have zoomed in and out and ended up sideways treat it as a pan\r\n        if (this._marker && !this._map.getBounds().pad(-0.3).contains(this._marker.getLatLng())) {\r\n          this._userPanned = true;\r\n          this._updateContainerStyle();\r\n          this._drawMarker();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Compute whether the map is following the user location with pan and zoom.\r\n     */\r\n    _isFollowing() {\r\n      if (!this._active) {\r\n        return false;\r\n      }\r\n\r\n      if (this.options.setView === \"always\") {\r\n        return true;\r\n      } else if (this.options.setView === \"untilPan\") {\r\n        return !this._userPanned;\r\n      } else if (this.options.setView === \"untilPanOrZoom\") {\r\n        return !this._userPanned && !this._userZoomed;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Check if location is in map bounds\r\n     */\r\n    _isOutsideMapBounds() {\r\n      if (this._event === undefined) {\r\n        return false;\r\n      }\r\n      return this._map.options.maxBounds && !this._map.options.maxBounds.contains(this._event.latlng);\r\n    },\r\n\r\n    /**\r\n     * Toggles button class between following and active.\r\n     */\r\n    _updateContainerStyle() {\r\n      if (!this._container) {\r\n        return;\r\n      }\r\n\r\n      if (this._active && !this._event) {\r\n        // active but don't have a location yet\r\n        this._setClasses(\"requesting\");\r\n      } else if (this._isFollowing()) {\r\n        this._setClasses(\"following\");\r\n      } else if (this._active) {\r\n        this._setClasses(\"active\");\r\n      } else {\r\n        this._cleanClasses();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Sets the CSS classes for the state.\r\n     */\r\n    _setClasses(state) {\r\n      if (state == \"requesting\") {\r\n        removeClasses(this._container, \"active following\");\r\n        addClasses(this._container, \"requesting\");\r\n\r\n        removeClasses(this._icon, this.options.icon);\r\n        addClasses(this._icon, this.options.iconLoading);\r\n      } else if (state == \"active\") {\r\n        removeClasses(this._container, \"requesting following\");\r\n        addClasses(this._container, \"active\");\r\n\r\n        removeClasses(this._icon, this.options.iconLoading);\r\n        addClasses(this._icon, this.options.icon);\r\n      } else if (state == \"following\") {\r\n        removeClasses(this._container, \"requesting\");\r\n        addClasses(this._container, \"active following\");\r\n\r\n        removeClasses(this._icon, this.options.iconLoading);\r\n        addClasses(this._icon, this.options.icon);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Removes all classes from button.\r\n     */\r\n    _cleanClasses() {\r\n      L.DomUtil.removeClass(this._container, \"requesting\");\r\n      L.DomUtil.removeClass(this._container, \"active\");\r\n      L.DomUtil.removeClass(this._container, \"following\");\r\n\r\n      removeClasses(this._icon, this.options.iconLoading);\r\n      addClasses(this._icon, this.options.icon);\r\n    },\r\n\r\n    /**\r\n     * Reinitializes state variables.\r\n     */\r\n    _resetVariables() {\r\n      // whether locate is active or not\r\n      this._active = false;\r\n\r\n      // true if the control was clicked for the first time\r\n      // we need this so we can pan and zoom once we have the location\r\n      this._justClicked = false;\r\n\r\n      // true if the user has panned the map after clicking the control\r\n      this._userPanned = false;\r\n\r\n      // true if the user has zoomed the map after clicking the control\r\n      this._userZoomed = false;\r\n    }\r\n  });\r\n\r\n  L.control.locate = (options) => new L.Control.Locate(options);\r\n\r\n  return LocateControl;\r\n}, window);\r\n"],
  "mappings": "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",
  "names": ["window", "L"]
}
